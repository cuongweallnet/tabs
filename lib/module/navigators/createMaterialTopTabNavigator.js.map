{"version":3,"sources":["createMaterialTopTabNavigator.tsx"],"names":["React","TabView","createTabNavigator","MaterialTopTabBar","MaterialTabView","_renderLazyPlaceholder","props","LazyPlaceholder","lazyPlaceholderComponent","componentDidMount","setTimeout","title","_renderTabBar","state","navigation","route","routes","index","descriptors","descriptor","key","options","tabBarVisible","getLabelText","getAccessibilityLabel","getTestID","renderIcon","onTabPress","onTabLongPress","tabBarComponent","TabBarComponent","tabBarPosition","tabBarOptions","screenProps","nextProps","rest","swipeEnabled","Component"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { StyleProp, ViewStyle } from 'react-native';\nimport { TabView, SceneRendererProps } from 'react-native-tab-view';\nimport createTabNavigator, {\n  NavigationViewProps,\n} from '../utils/createTabNavigator';\nimport MaterialTopTabBar from '../views/MaterialTopTabBar';\nimport {\n  NavigationTabProp,\n  NavigationMaterialTabOptions,\n  MaterialTabBarOptions,\n  SceneDescriptorMap,\n} from '../types';\n\ntype Route = {\n  key: string;\n  routeName: string;\n};\n\ntype Config = {\n  keyboardDismissMode?: 'none' | 'on-drag';\n  swipeEnabled?: boolean;\n  swipeDistanceThreshold?: number;\n  swipeVelocityThreshold?: number;\n  initialLayout?: { width?: number; height?: number };\n  lazy?: boolean;\n  lazyPlaceholderComponent?: React.ComponentType<{ route: Route }>;\n  tabBarComponent?: React.ComponentType<any>;\n  tabBarOptions?: MaterialTabBarOptions;\n  tabBarPosition?: 'top' | 'bottom';\n  sceneContainerStyle?: StyleProp<ViewStyle>;\n  style?: StyleProp<ViewStyle>;\n};\n\ntype Props = NavigationViewProps &\n  Config & {\n    onSwipeStart?: () => void;\n    onSwipeEnd?: () => void;\n    navigation: NavigationTabProp;\n    descriptors: SceneDescriptorMap;\n    screenProps?: unknown;\n  };\n\nclass MaterialTabView extends React.Component<Props> {\n  title: any;\n  _renderLazyPlaceholder = (props: { route: Route }) => {\n    const { lazyPlaceholderComponent: LazyPlaceholder } = this.props;\n\n    if (LazyPlaceholder != null) {\n      return <LazyPlaceholder {...props} />;\n    }\n\n    return null;\n  };\n\n  componentDidMount = () => {\n    setTimeout(() => {\n      this.title = ''\n    }, 100)\n  };\n  \n\n  shouldComponentUpdate(nextProps: any) {\n    if(this.title === null) {\n      return true\n    } else if(this.title !== nextProps.title) {\n      this.title = nextProps.title;\n      return true;\n    }\n    return false;\n  };\n\n  _renderTabBar = (props: SceneRendererProps) => {\n    const { state } = this.props.navigation;\n    const route = state.routes[state.index];\n    const { descriptors } = this.props;\n    const descriptor = descriptors[route.key];\n    const options = descriptor.options;\n\n    const tabBarVisible =\n      options.tabBarVisible == null ? true : options.tabBarVisible;\n\n    const {\n      navigation,\n      getLabelText,\n      getAccessibilityLabel,\n      getTestID,\n      renderIcon,\n      onTabPress,\n      onTabLongPress,\n      tabBarComponent: TabBarComponent = MaterialTopTabBar,\n      tabBarPosition,\n      tabBarOptions,\n      screenProps,\n    } = this.props;\n\n    if (TabBarComponent === null || !tabBarVisible) {\n      return null;\n    }\n\n    return (\n      <TabBarComponent\n        {...tabBarOptions}\n        {...props}\n        tabBarPosition={tabBarPosition}\n        screenProps={screenProps}\n        navigation={navigation}\n        getLabelText={getLabelText}\n        getAccessibilityLabel={getAccessibilityLabel}\n        getTestID={getTestID}\n        renderIcon={renderIcon}\n        onTabPress={onTabPress}\n        onTabLongPress={onTabLongPress}\n      />\n    );\n  };\n\n  render() {\n    const {\n      /* eslint-disable @typescript-eslint/no-unused-vars */\n      getLabelText,\n      getAccessibilityLabel,\n      getTestID,\n      renderIcon,\n      onTabPress,\n      onTabLongPress,\n      screenProps,\n      lazyPlaceholderComponent,\n      tabBarComponent,\n      tabBarOptions,\n      /* eslint-enable @typescript-eslint/no-unused-vars */\n      navigation,\n      descriptors,\n      ...rest\n    } = this.props;\n\n    const { state } = navigation;\n    const route = state.routes[state.index];\n\n    const descriptor = descriptors[route.key];\n    const options = descriptor.options;\n\n    let swipeEnabled =\n      // @ts-ignore\n      options.swipeEnabled == null\n        ? this.props.swipeEnabled\n        : (options as any).swipeEnabled;\n\n    if (typeof swipeEnabled === 'function') {\n      swipeEnabled = swipeEnabled(state);\n    }\n\n    return (\n      <TabView\n        {...rest}\n        navigationState={navigation.state}\n        swipeEnabled={swipeEnabled}\n        renderTabBar={this._renderTabBar}\n        renderLazyPlaceholder={this._renderLazyPlaceholder}\n      />\n    );\n  }\n}\n\nexport default createTabNavigator<Config, NavigationMaterialTabOptions, Props>(\n  MaterialTabView\n);\n"]}